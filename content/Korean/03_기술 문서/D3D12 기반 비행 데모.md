# **D3D12 기반 비행 데모**
---
## **개요**
 이 프로젝트는 C++로 작성된 학습용 **3D 비행 데모**로, DirectX 12 그래픽스 API를 사용합니다. **D3D12 렌더링 파이프라인의 CPU 측 설정**을 학습하는데 중점을 둔 실습 예제입니다. 또한, [[동작 명령 대기열]]과 **씬 스택 관리** 같은 게임 **시스템 설계 패턴**도 구현하고 있습니다.
![[D3D12 FlightDemo (Media)#^8ce308]]
[**View Repository**](https://github.com/Woo95/DirectX12_FlightDemo)

---
## **D3D12 렌더링 파이프라인의 CPU 측 단계별 구성**
**DirectX 12 렌더링 파이프라인의 CPU 측 설정 및 실행 과정**을 다루며, **디바이스 초기화부터 렌더링까지**의 **다섯 가지 핵심 단계**로 구성됩니다.
> ⚠️ 참고: GPU 파이프라인의 셰이딩이나 래스터화 같은 내부 단계는 구체적으로 설명하지 않습니다.

초기화의 1~5단계는 `Game::Initialize()`에서 단 한번 실행됩니다.
![[D3D12 FlightDemo (Code)#^f262f3|Game::Initialize()]]

---
### `1 단계 - 디바이스 초기화`
- #### D3D12 디바이스란?
	- **D3D12 디바이스**는 프로그램과 GPU 사이의 핵심 인터페이스입니다. D3D12에서 모든 GPU 관련 작업을 관리하며, 주요 역할은 다음과 같습니다:
		- 버퍼, 텍스처 등 GPU 리소스 **생성**
		- 설명자 힙과 명령 객체 **관리**
		- 렌더링 과정을 **관리**하고 하드웨어 기능을 **점검**
- #### 핵심 함수
	- [[D3D12 FlightDemo (Code)#^8591c4|bool D3DApp::InitDirect3D()]]:
		- [[D3D12 FlightDemo (Code)#^f262f3|D3DApp::Initialize()]]에서 한번만 호출됩니다. **그래픽 디바이스를 생성**하고 GPU와 통신을 설정합니다. 최적의 그래픽 어댑터를 선택하며, GPU 리소스 접근에 사용되는 **설명자 크기**나 안티앨리어싱을 위한 **멀티샘플링 지원** 같은 디바이스 리소스를 초기화합니다.

---
### `2 단계 - 그래픽스 파이프라인 설정`
- #### 어떤 단계인가?
	- 이 단계에서는 GPU 파이프라인을 구성하여 **렌더링 방식**을 정의합니다. **루트 서명**을 준비하고, **셰이더 코드**를 컴파일하며, **파이프라인 상태 객체**를 생성합니다.
- #### 핵심 함수들
	- [[D3D12 FlightDemo (Code)#^3dc4c3|void Game::BuildRootSignature()]]:
		- 사용할 수 있는 셰이더 리소스([[D3D12 FlightDemo (Code)#^12909b|CBVs]], [[D3D12 FlightDemo (Code)#^4b061d|SRVs]], [[D3D12 FlightDemo (Code)#^be5c68|Samplers]])를 정의합니다.
	- [[D3D12 FlightDemo (Code)#^9e39a9|void Game::BuildShadersAndInputLayout()]]:
	    - [[D3D12 FlightDemo (Code)#^58ccc4|HLSL 셰이더 코드]] ([[D3D12 FlightDemo (Code)#^cfc0fb|VS]]/[[D3D12 FlightDemo (Code)#^c1153e|PS]])를 컴파일하고, GPU가 데이터를 분석하는 방식을 정의합니다. (예: 위치는 float 3개, 텍스처 좌표는 float 2개 등).
	- [[D3D12 FlightDemo (Code)#^95ff5b|void Game::BuildPSOs()]]:
		- 셰이더, 삼각형의 래스터화 방식, 픽셀 블렌딩, 깊이 설정 등을 포함해 전체 렌더링 동작을 규정하는 **파이프라인 상태 객체**를 생성합니다.

---
### `3 단계 - 리소스 에셋 설정`
- #### 어떤 단계인가?
    - 이 단계에서는 **렌더링에 필요한 리소스를 준비**하는 과정입니다. **텍스처 정보**를 불러오고, **재질 속성**을 정의하며, 셰이더가 해당 리소스에 접근할 수 있도록 **설명자 힙**을 구성합니다.
- #### 핵심 함수들
    - [[D3D12 FlightDemo (Code)#^d68072|void Game::LoadTextures()]]:
        - **텍스처 파일**을 GPU 메모리에 로드한 뒤, 셰이더가 사용할 수 있는 [[D3D12 FlightDemo (Code)#^4b061d|SRV]]와 연결합니다.
    - [[D3D12 FlightDemo (Code)#^1e6763|void Game::BuildMaterials()]]:
        - 렌더링 시 참조할 수 있도록 기본 색상, 질감, 텍스처 인덱스 등의 **재질 속성을 정의**합니다.
    - [[D3D12 FlightDemo (Code)#^a35546|void Game::BuildDescriptorHeaps()]]:
        - GPU가 텍스처 및 연결된 다른 리소스를 참조하는데 사용하는 **설명자 힙**([[D3D12 FlightDemo (Code)#^12909b|CBVs]], [[D3D12 FlightDemo (Code)#^4b061d|SRVs]], [[D3D12 FlightDemo (Code)#^3651ae|UAVs]])을 할당하고 정보를 채웁니다.

---
### `4 단계 - 기하 정보 및 정점 버퍼 설정`
- #### 어떤 단계인가?
	- 이 단계에서는 렌더링할 **메쉬**와 **도형**을 생성하고, GPU가 사용할 **정점 버퍼**와 **인덱스 버퍼**를 생성합니다.
- #### 핵심 함수
	- [[D3D12 FlightDemo (Code)#^e40791|void Game::BuildShapeGeometry()]]:
		- **기하 정보**(정점, 인덱스)를 생성하고 **GPU 버퍼**를 만들며 렌더링을 위한 호출 매개변수를 구성합니다.
    

---
### `5 단계 - 프레임 리소스 설정`
- #### 어떤 단계인가?
	- 이 단계에서는 **각 프레임마다** [[D3D12 FlightDemo (Code)#^fe87af|상수 버퍼]]와 [[D3D12 FlightDemo (Code)#^ebaf60|명령 할당자]]를 저장할 **메모리 구조**를 준비하여, CPU와 GPU가 프레임 단위로 동기화할 수 있도록 지원합니다.
- #### 핵심 함수
	- [[D3D12 FlightDemo (Code)#^925a50|void Game::BuildFrameResources()]]: 
		- GPU가 현재 프레임을 처리하는 동안 CPU가 다음 프레임을 준비할 수 있게, **각 프레임에 필요한 리소스 집합**(예: 상수버퍼와 커맨드 할당자)을 할당합니다.

---
## **맺는 말**
> 이 프로젝트는 핵심 **DirectX 12 개념**을 명확하고 단계적인 파이프라인 설정을 통해 적용합니다. 렌더링을 넘어 [[동작 명령 대기열]]과 **씬 스택 관리**같은 시스템을 적용하여, C++ 기반의 확장 가능한 3D 애플리케이션을 체계적으로 구축 및 구현했습니다. 또한, 저레벨 그래픽스 프로그래밍과 엔진 아키텍쳐 설계에 입문하는 출발점이 되는 프로젝트였습니다.